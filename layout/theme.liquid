<!DOCTYPE html>
<html lang="{{ request.locale.iso_code }}" class="no-js">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <title>
    {%- if request.page_type == 'index' -%}
      {{ shop.name }} | Premium Streetwear
    {%- else -%}
      {{ page_title }} | {{ shop.name }}
    {%- endif -%}
  </title>

  {%- if page_description -%}
    <meta name="description" content="{{ page_description | escape }}">
  {%- endif -%}

  <!-- Favicon -->
  {%- if settings.favicon != blank -%}
    <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
  {%- endif -%}

  <!-- Canonical URL -->
  <link rel="canonical" href="{{ canonical_url }}">

  <!-- Open Graph -->
  <meta property="og:site_name" content="{{ shop.name }}">
  <meta property="og:url" content="{{ canonical_url }}">
  <meta property="og:title" content="{{ page_title | default: shop.name }}">
  <meta property="og:type" content="{{ request.page_type | default: 'website' }}">
  {%- if page_description -%}
    <meta property="og:description" content="{{ page_description | escape }}">
  {%- endif -%}
  {%- if page_image -%}
    <meta property="og:image" content="https:{{ page_image | image_url: width: 1200 }}">
  {%- endif -%}

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="{{ settings.social_twitter_link | split: 'twitter.com/' | last }}">
  <meta name="twitter:title" content="{{ page_title | default: shop.name }}">
  {%- if page_description -%}
    <meta name="twitter:description" content="{{ page_description | escape }}">
  {%- endif -%}

  <!-- Theme CSS -->
  {{ 'base.css' | asset_url | stylesheet_tag }}
  {{ 'component-header.css' | asset_url | stylesheet_tag }}
  {{ 'component-footer.css' | asset_url | stylesheet_tag }}
  {{ 'component-cart-drawer.css' | asset_url | stylesheet_tag }}
  {{ 'component-product-card.css' | asset_url | stylesheet_tag }}
  {{ 'animations.css' | asset_url | stylesheet_tag }}

  <!-- Required Shopify Content -->
  {{ content_for_header }}

  <!-- JavaScript -->
  <script>
    document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    window.shopUrl = '{{ shop.secure_url }}';
    window.routes = {
      cart_add_url: '{{ routes.cart_add_url }}',
      cart_change_url: '{{ routes.cart_change_url }}',
      cart_update_url: '{{ routes.cart_update_url }}',
      cart_url: '{{ routes.cart_url }}',
      predictive_search_url: '{{ routes.predictive_search_url }}'
    };
    window.cartStrings = {
      error: `{{ 'sections.cart.cart_error' | t }}`,
      quantityError: `{{ 'sections.cart.cart_quantity_error_html' | t: quantity: '[quantity]' }}`
    };
  </script>
  
  <script src="{{ 'theme.js' | asset_url }}" defer></script>
</head>

<body class="template-{{ request.page_type }}{% if request.design_mode %} shopify-design-mode{% endif %}">
  <a class="skip-to-content-link visually-hidden" href="#MainContent">
    {{ 'accessibility.skip_to_text' | t }}
  </a>

  <!-- Announcement Bar -->
  {% section 'announcement-bar' %}

  <!-- Header -->
  {% section 'header' %}

  <!-- Search Overlay -->
  {% render 'search-overlay' %}

  <!-- Cart Drawer -->
  {% render 'cart-drawer' %}

  <!-- Mobile Menu -->
  {% render 'mobile-menu' %}

  <main id="MainContent" class="main-content" role="main" tabindex="-1">
    {{ content_for_layout }}
  </main>

  <!-- Footer -->
  {% section 'footer' %}

  <!-- Toast Notifications -->
  <div id="toast-container" class="toast-container"></div>

  <!-- Magnetic Cursor (Desktop Only) -->
  <div class="magnetic-cursor" id="magneticCursor">
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>
  </div>

  <script>
    // Initialize cart count from Shopify
    document.addEventListener('DOMContentLoaded', function() {
      updateCartCount({{ cart.item_count }});
    });
  </script>
</body>
</html>
